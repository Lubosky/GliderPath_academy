ul.card-list
  +pad(0)
  display: inline-block
  list-style: none
  margin-top: 45px
  max-width: none
  width: 100%

  &.compact
    margin: 0

  &.three-columns
    .card-list-item
      +span-columns(4 of 12)
      +omega(3n)

      +mq(null, $tablet-min, $tablet-max)
        +omega-reset(3n)
        +span-columns(6 of 12)
        +omega(2n)

      +mq($max, $mobile-max)
        +omega-reset(2n)
        +span-columns(12)

  &.two-columns
    .card-list-item
      +span-columns(6 of 12)
      +omega(2n)

      +mq($max, $mobile-max)
        +omega-reset(2n)
        +span-columns(12)

  &.one-column
    .card-list-item
      +span-columns(12)
      +omega
      padding-bottom: 60px

      &:last-child
        padding-bottom: 0

  .card-list
    &-item
      +border-radius($border-radius)
      margin-bottom: 30px

      &.stacked
        +box-shadow(inset -2px -2px 0 rgba($black, .09), inset 2px 2px 0 rgba($black, .09))
        box-sizing: border-box
        display: block
        position: relative

        &:after,
        &:before
          +border-radius(0 0 $border-radius $border-radius)
          +box-shadow(inset 0 -2px 0 rgba($black, .09))
          +transition(height 100ms ease-in-out)
          content: ''
          display: block
          height: 3px
          left: 5px
          position: absolute
          right: 5px
          top: 100%

        &:before
          height: 6px
          left: 10px
          right: 10px

        &:hover
          &:after
            height: 5px

          &:before
            height: 10px

      .card-box
        +pad(150px 0 0)
        display: block
        min-height: 270px
        position: relative

        &-title
          +border-radius($border-radius $border-radius 0 0)
          +pad(25px 45px)
          background: rgba($black, .09)
          display: block
          left: 0
          min-height: 150px
          position: absolute
          right: 0
          top: 0

          h3
            +font-size(26px)
            +text-shadow(0 2px 1px rgba($black, .25))
            line-height: $line-height-small
            margin: 0

        &-meta
          +pad(15px 45px)
          text-align: left

      &.card-wrapper
        +border-radius($border-radius)
        +box-shadow(-1px 0 1px rgba($dark-shade, .1), 1px 0 1px rgba($dark-shade, .1))
        +pad(70px 30px 30px)
        +transition(all 150ms ease-in-out)
        background: $white
        display: block
        min-height: 320px
        position: relative

        &.stacked
          &:after,
          &:before
            background-color: lighten($default, 3%)

        &:hover,
        &:focus
          +box-shadow(0px 2px 40px 0px rgba($black, .1))

        .card-header
          +border-radius($border-radius $border-radius 0 0)
          +pad(0 30px)
          display: block
          height: 60px
          left: 0
          line-height: 60px
          position: absolute
          right: 0
          top: 0
          transition: background-color 300ms 0s ease

          .card-progress
            +border-radius(50%)
            +size(50px)
            background: $white
            color: $text-muted
            position: absolute
            right: 15px
            top: 35px

            .progress
              @extend .sbold
              +size(46px)
              display: block
              line-height: 46px
              text-align: center

        .card-content
          color: $text-muted

          h4
            margin-bottom: 10px

          p
            +font-size($font-size-small)
            margin: 0
            overflow: hidden
            position: relative

        .card-footer
          +border-radius(0 0 $border-radius $border-radius)
          +box-shadow(inset 0 -2px 0 rgba($black, 0.09))
          +pad(15px 30px)
          background-color: lighten($default, 3%)
          border-top: 1px solid $border-color
          bottom: 0
          left: 0
          position: absolute
          right: 0
          text-align: right

          .button
            @extend .button-small

ul.step-list
  +border-radius($border-radius)
  +box-shadow($box-shadow)
  +pad(0)
  background-color: lighten($default, 3%)
  margin: 45px 0

  li:not(.step-list-footer)
    list-style-type: none

    .topic-wrapper
      +clearfix
      +pad(20px 30px 20px 110px)
      +transition(background-color 200ms ease)
      border-bottom: 1px solid lighten($border-color, 5%)
      display: block
      overflow: hidden
      position: relative

      h5
        +transition(color 200ms ease)
        color: darken($text-muted, 9%)
        display: block
        margin: 0
        overflow: hidden
        text-overflow: ellipsis
        white-space: nowrap

      p
        +font-size($font-size-base)
        color: $text-muted
        margin: 5px 0

      .icon-holder
        +size(110px, 100%)
        float: left
        left: 0
        position: absolute
        top: 0

        .icon
          +transition(color 200ms ease)
          display: block
          margin: -10px auto
          overflow: visible
          top: 50%

          &:before
            +border-radius(50%)
            +size(30px)
            +transition(border 200ms ease)
            background-color: $white
            content: ''
            display: inline-block
            left: 50%
            margin: -15px
            position: absolute
            top: 50%

        .completed
          +size(20px)
          color: $white

          &:before
            background-color: map-deep-get($component-colors, green, base) !important

        .locked,
        .unlocked
          color: darken($default, 9%)

          &:before
            border: 2px solid darken($default, 9%)

        .locked
          +size(16px)

      &:hover,
      &:focus
        background: $white

        h5
          color: $text-color

        .icon-holder
          .icon:not(.completed)
            color: $brand

            &:before
              border-color: $brand

      .step-duration
        color: darken($light-shade, 18%)
        float: right
        line-height: $line-height-base
        margin-bottom: 0
        margin-left: 10px

  li
    &.step-list-header,
    &.step-list-footer
      background-color: $white
      display: block

    &.step-list-header
      +border-radius($border-radius $border-radius 0 0)
      +pad(10px 30px)
      border-bottom: 1px solid $border-color

    &.step-list-footer
      +border-radius(0 0 $border-radius $border-radius)
      +box-shadow(0 2px 0 rgba($black, .09))
      border: none
      margin-bottom: 0

      a
        +pad(10px 30px)
        color: $text-muted
        display: block

        .icon
          +transition(transform 300ms)
          margin: -2px 5px 0 0

      &:hover,
      &:focus
        .icon
          color: $text-color

  &.is-closed
    li
      &.step-list-footer
        a > .icon
          +transform(rotate(180deg))

  &.compact
    +box-shadow(none)
    background: $white
    border: none
    margin: 0 0 45px

    &:first-child
      margin-top: -30px

    li
      &:last-child
        border-bottom: none

      &.step-list-header
        +border-radius($border-radius $border-radius 0 0)
        background-color: $white
        border-bottom: 2px solid $border-color

      &.step-list-footer
        +box-shadow(none)
        +pad(0)
        background-color: $white

      .topic-wrapper
        border-bottom: 1px solid lighten($border-color, 8%)

        &:hover,
        &:focus
          background: lighten($default, 3%)
