- if enrolled_courses.any?
  %h2= t('titles.courses.enrolled')
  %ul.card-list.compact.three-columns
    - enrolled_courses.each do |course|
      %li.card-list-item.stacked.card-wrapper{ class: "card-#{course.id}" }
        .card-header
          %strong= course.class
          = progress_for(course, current_user)
        = link_to progress_course_path(course), class: 'card-content' do
          %h4= course.name
          %p.ellipsis= course.short_description
        .card-footer
          - if course.progress(current_user) != 100
            = link_to t('button.course.continue'), course_lesson_path(course, course.first_remaining_lesson_for(current_user)), class: 'button button-small'
          - else
            = link_to t('button.course.completed'), progress_course_path(course), class: 'button button-small'

- if accessible_courses.any?
  %h2= t('titles.courses.accessible')
  %ul.card-list.compact.three-columns
    - accessible_courses.each do |course|
      %li.card-list-item.stacked.card-wrapper{ class: "card-#{course.id}" }
        .card-header
          %strong= course.class
          = progress_for(course, current_user)
        = link_to course_path(course), class: 'card-content' do
          %h4= course.name
          %p.ellipsis= course.short_description
        .card-footer
          = render 'courses/button_enroll', resource: course

- else
  %h2= t('titles.courses.index')
  %ul.card-list.compact.three-columns
    - available_courses.each do |course|
      = render 'courses/course', course: course
